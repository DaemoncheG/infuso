
inx.css(".inx-toolbar_button{cursor:pointer;white-space:nowrap;background:none;border:none;float:left;padding:3px 4px 3px 4px;height:16px;}");inx.button=inx.box.extend({constructor:function(p){if(!p.listeners)p.listeners={};if(p.onclick)p.listeners.click=p.onclick;p.border=0;p.height="22";p.background="none";this.base(p);},cmd_render:function(c){this.base(c);this.input=$("<div class='inx-toolbar_button' />").appendTo(this.el);this.el.addClass("inx-unselectable");if(this.icon)this.cmd("setIcon",this.icon);var html=this.text||"";if(this.href)
html="<a href='"+this.href+"' target='_new'>"+html+"</a>";this.input.get(0).innerHTML=html;this.el.mouseover(inx.cmd(this,"private_handleMouseover"));this.task("resizeToContents");},cmd_setIcon:function(icon){icon=inx.img(icon);this.input.css({background:"url("+icon+") no-repeat 3px center"});this.input.css({paddingLeft:18+(this.text?3:0)});},cmd_setHref:function(href){this.el.find("a").attr("href",href);},cmd_private_handleMouseover:function(){this.air&&this.cmd("showFrame");},cmd_private_handleMouseout:function(){this.air&&this.cmd("hideFrame");},cmd_showFrame:function(){if(!this.lbg){this.lbg=$("<div />").css("position","absolute").css({left:0}).prependTo(this.el).width(this.info("width")-11).height(this.info("height")).css("background","url("+inx.conf.url+"inx/panel/toolbar_button_left.png)");this.rbg=$("<div />").css("position","absolute").prependTo(this.el).css("left",this.info("width")-11).width(11).height(this.info("height")).css("background","url("+inx.conf.url+"inx/panel/toolbar_button_right.png)");}
this.input.css({position:"relative"});this.lbg.css("display","block");this.rbg.css("display","block");if(this.el.data("__extended"))return;this.el.data("__extended",true);this.el.click(inx.cmd(this,"private_handleClick"));this.el.mouseout(inx.cmd(this,"private_handleMouseout"))},cmd_private_handleClick:function(){this.fire("click");},cmd_hideFrame:function(){this.lbg.css("display","none");this.rbg.css("display","none");},cmd_resizeToContents:function(){var a=$("<div/>").addClass("inx-box").appendTo("body");var inp=this.input.clone().appendTo(a);this.cmd("width",inp.get(0).clientWidth);a.remove();this.air||this.task("showFrame");}});