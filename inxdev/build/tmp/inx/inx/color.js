// @include inx.dropdown,inx.list

inx.color=inx.dropdown.extend({constructor:function(p){p.width=40;p.height=40;p.item={type:"inx.panel",border:1}
p.dropdown={type:"inx.color.a",onclick:[this.id(),"setValue"]}
this.cmd("setValue",p.value);this.base(p);this.on("render",this.id(),"renderColor");},cmd_setValue:function(val){if(val=="none")val="";val+="";this.private_value=val;this.cmd("collapse");this.task("renderColor");},cmd_renderColor:function(){if(!this.el)return;var val=this.private_value;var img=inx.conf.url+"inx/color/reflect.png";this.__body.html("");var c=$("<div>").css({width:"100%",height:"100%",background:val+" url("+img+")"}).appendTo(this.input);},info_value:function(){return this.private_value;}});inx.color.a=inx.list.extend({constructor:function(p){p.width=410;p.maxHeight=200;p.autoHeight=true;p.padding=20;var color=["none","#ffffff","#000000","#9a6600","#cc9900","#ffcc00","#ffff01","#feff99","#ffdb9d","#ffcc66","#ff9934","#ff794a","#ff3300","#9a0000","#333367","#003399","#0066cb","#0082d6","#0099ff","#3e99df","#99cdff","#b5e2ff","#dffeff","#feccff","#ccccff","#9a99ff","#6766cc","#9999cd","#66669a","#006600","#009900","#67cb33","#9afe66","#cdffcc"];p.data=[];for(var i in color)
p.data.push({id:color[i]});this.base(p);},renderer:function(e,data){e.addClass("inx-core-inlineBlock");e.css({verticalAlign:"top"});e.css({width:40,height:40,padding:5,margin:0,border:"none"});var img=inx.conf.url+"inx/color/reflect.png";var c=$("<div>").css({width:38,height:38,border:"1px solid gray",background:data.id+" url("+img+")"}).appendTo(e);if(data.id=="none")
c.html("<div style='text-align:center;margin-top:-3px;font-size:32px;'>x</div>");}});